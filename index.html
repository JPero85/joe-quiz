<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Which Stuck Are You? ‚Ä¢ Quiz</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root { --text:#0f172a; --muted:#475569; --border:#e2e8f0; --bg:#f8fafc; --card:#fff; }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;line-height:1.6}
    .container{max-width:900px;margin:0 auto;padding:2rem 1rem;text-align:center}
    .title{font-size:clamp(30px,3.2vw,40px);font-weight:800;margin:0 0 .4rem}
    .subtitle{color:var(--muted);margin:.2rem 0}
    .intro-list{color:var(--text);text-align:left;display:inline-block;margin:.4rem 0 0;padding-left:1.2rem}
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:1rem;box-shadow:0 1px 2px rgba(15,23,42,.04);text-align:left;display:inline-block;width:100%}
    .q{font-weight:700;margin:.2rem 0 .5rem}
    .quiz-question{border:1px solid var(--border);border-radius:12px;padding:12px;margin:.6rem 0;background:#fff;text-align:left}
    .choices{display:flex;gap:1rem;flex-wrap:wrap}
    .choices label{display:inline-flex;align-items:center;gap:.5rem}
    .actions{display:flex;justify-content:center;gap:12px;align-items:center;margin-top:12px}
    .btn{appearance:none;border:0;border-radius:12px;padding:.9rem 1.1rem;font-weight:700;cursor:pointer;background:#111827;color:#fff;box-shadow:0 6px 18px rgba(17,24,39,.18)}
    .btn:active{transform:translateY(1px)}
    .error{display:none;color:#b91c1c;font-weight:700}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:18px;margin-top:1.25rem}
    .card-title{font-weight:800;margin:.2rem 0 .6rem;text-align:center}
    .cover{width:100%;height:auto;border-radius:12px;border:1px solid var(--border);background:#f1f5f9;display:block;margin:.25rem auto;max-width:280px}
    /* bump base sizes a bit for readability */
    .container, .container p, .container li, .container label, .container button, .container h1, .container h2 { font-size: 1.15rem; line-height: 1.65; }
  </style>
</head>
<body>
  <main class="container">
    <!-- HEADER / INTRO -->
    <header class="header">
      <h1 class="title">üß≠ Start Here!</h1>
      <p class="subtitle">This quiz is designed to help surface where friction is showing up in your system, even if it's not obvious yet.</p>
      <p class="subtitle">For each statement below, choose the answer that best reflects your current experience.</p>
      <p class="subtitle">There are no wrong answers, just honest signals.</p>
      <ul class="intro-list">
        <li>üëç <strong>"Yes, this is true for me"</strong> means the statement resonates or regularly shows up in your work.</li>
        <li>üëé <strong>"No, this doesn't reflect my experience"</strong> means it's not something you currently deal with.</li>
      </ul>
      <p class="subtitle" style="margin-top:8px;">You'll get a tailored recommendation based on your unique pattern of friction.</p>
    </header>

    <!-- QUIZ -->
    <form id="quiz-form" class="card">
      <!-- data-primary=4pts, data-secondary=2pts, data-tertiary=1pt -->

      <div class="quiz-question" data-question="1"
           data-primary="Clarity Collapse" data-secondary="Contextual Amnesia" data-tertiary="Avoidance Architecture">
        <p class="q">1) I often sit down to work and can‚Äôt tell what actually matters.</p>
        <div class="choices">
          <label><input type="radio" name="q1" value="yes" required> Yes</label>
          <label><input type="radio" name="q1" value="no"> No</label>
        </div>
      </div>

      <div class="quiz-question" data-question="2"
           data-primary="Systemic Overload" data-secondary="Trust Erosion" data-tertiary="Pacing Drift">
        <p class="q">2) I move through tasks all day but rarely feel real progress.</p>
        <div class="choices">
          <label><input type="radio" name="q2" value="yes" required> Yes</label>
          <label><input type="radio" name="q2" value="no"> No</label>
        </div>
      </div>

      <div class="quiz-question" data-question="3"
           data-primary="Role Drift" data-secondary="Delegation Breakdown" data-tertiary="Clarity Collapse">
        <p class="q">3) I get my work done, but it feels misaligned with who I am or what I value.</p>
        <div class="choices">
          <label><input type="radio" name="q3" value="yes" required> Yes</label>
          <label><input type="radio" name="q3" value="no"> No</label>
        </div>
      </div>

      <div class="quiz-question" data-question="4"
           data-primary="Avoidance Architecture" data-secondary="Friction-First Execution" data-tertiary="Rebuild Resistance">
        <p class="q">4) I procrastinate on high-value tasks, even when they matter deeply to me.</p>
        <div class="choices">
          <label><input type="radio" name="q4" value="yes" required> Yes</label>
          <label><input type="radio" name="q4" value="no"> No</label>
        </div>
      </div>

      <div class="quiz-question" data-question="5"
           data-primary="Friction-First Execution" data-secondary="Pacing Drift" data-tertiary="Systemic Overload">
        <p class="q">5) I delay important work until the last minute, then sprint and burn out.</p>
        <div class="choices">
          <label><input type="radio" name="q5" value="yes" required> Yes</label>
          <label><input type="radio" name="q5" value="no"> No</label>
        </div>
      </div>

      <div class="quiz-question" data-question="6"
           data-primary="Rebuild Resistance" data-secondary="Trust Erosion" data-tertiary="Avoidance Architecture">
        <p class="q">6) I‚Äôve tried rebuilding my systems before ‚Äî they never seem to stick.</p>
        <div class="choices">
          <label><input type="radio" name="q6" value="yes" required> Yes</label>
          <label><input type="radio" name="q6" value="no"> No</label>
        </div>
      </div>

      <div class="quiz-question" data-question="7"
           data-primary="Delegation Breakdown" data-secondary="Verification Bypass" data-tertiary="Feedback Blindness">
        <p class="q">7) I avoid delegating because I‚Äôm unsure others will meet the mark.</p>
        <div class="choices">
          <label><input type="radio" name="q7" value="yes" required> Yes</label>
          <label><input type="radio" name="q7" value="no"> No</label>
        </div>
      </div>

      <div class="quiz-question" data-question="8"
           data-primary="Verification Bypass" data-secondary="Clarity Collapse" data-tertiary="Contextual Amnesia">
        <p class="q">8) I often feel unsure whether an outcome is still aligned with intent.</p>
        <div class="choices">
          <label><input type="radio" name="q8" value="yes" required> Yes</label>
          <label><input type="radio" name="q8" value="no"> No</label>
        </div>
      </div>

      <div class="quiz-question" data-question="9"
           data-primary="Feedback Blindness" data-secondary="Trust Erosion" data-tertiary="Verification Bypass">
        <p class="q">9) My team or system moves smoothly but I rarely hear disagreement or resistance.</p>
        <div class="choices">
          <label><input type="radio" name="q9" value="yes" required> Yes</label>
          <label><input type="radio" name="q9" value="no"> No</label>
        </div>
      </div>

      <div class="quiz-question" data-question="10"
           data-primary="Contextual Amnesia" data-secondary="Pacing Drift" data-tertiary="Rebuild Resistance">
        <p class="q">10) I can‚Äôt remember why some decisions were made ‚Äî we just keep moving.</p>
        <div class="choices">
          <label><input type="radio" name="q10" value="yes" required> Yes</label>
          <label><input type="radio" name="q10" value="no"> No</label>
        </div>
      </div>

      <div class="quiz-question" data-question="11"
           data-primary="Trust Erosion" data-secondary="Verification Bypass" data-tertiary="Delegation Breakdown">
        <p class="q">11) I often wonder if I can still trust the outputs our systems rely on.</p>
        <div class="choices">
          <label><input type="radio" name="q11" value="yes" required> Yes</label>
          <label><input type="radio" name="q11" value="no"> No</label>
        </div>
      </div>

      <div class="quiz-question" data-question="12"
           data-primary="Pacing Drift" data-secondary="Systemic Overload" data-tertiary="Clarity Collapse">
        <p class="q">12) Things are moving fast ‚Äî but I‚Äôm not sure they‚Äôre moving in the right direction.</p>
        <div class="choices">
          <label><input type="radio" name="q12" value="yes" required> Yes</label>
          <label><input type="radio" name="q12" value="no"> No</label>
        </div>
      </div>

      <div class="actions">
        <button type="submit" class="btn">See My Book Recommendations</button>
        <div class="error" id="error-msg" role="alert" aria-live="polite">Please answer all 12 questions.</div>
      </div>
    </form>

    <!-- RESULTS (hidden until submit) -->
    <section id="results" class="grid" style="display:none;">
      <article class="card">
        <h2 class="card-title" id="primary-book-title">Primary Recommendation</h2>
        <img id="primary-book-image" alt="" class="cover">
      </article>

      <article class="card" id="secondary-card">
        <h2 class="card-title" id="secondary-book-title">Secondary Recommendation</h2>
        <img id="secondary-book-image" alt="" class="cover">
      </article>

      <div class="actions" style="margin-top:8px;justify-content:center;">
        <button id="retake" class="btn" type="button">Retake Quiz</button>
      </div>
    </section>
  </main>

  <script>
  document.addEventListener("DOMContentLoaded", function () {
    // ------ Category -> Book (ONLY the 10 published titles) ------
    const categoryToBook = {
      "Clarity Collapse": "Fix the Flow",
      "Systemic Overload": "The Cost You Didn't Count",
      "Role Drift": "Polished Outside Broken Inside",
      "Avoidance Architecture": "Start With What Hurts",
      "Friction-First Execution": "Start Hard Coast Later",
      "Rebuild Resistance": "Finish It Right",
      "Delegation Breakdown": "How to Think Like AI, So You Don't Stop Thinking At All",
      "Verification Bypass": "What Automation Erases",
      "Feedback Blindness": "Start Smaller Stay Standing",
      "Contextual Amnesia": "The Cost of Rushing"
      // NOTE: Trust Erosion + Pacing Drift not included here on purpose (no books yet)
    };

    // ------ Book cover images (your live URLs) ------
    const bookImages = {
      "Fix the Flow": "https://JPero85.github.io/joe-quiz/fix-the-flow.jpg",
      "The Cost You Didn't Count": "https://JPero85.github.io/joe-quiz/the-cost-you-didnt-count.jpg",
      "Polished Outside Broken Inside": "https://JPero85.github.io/joe-quiz/polished-outside-broken-inside.jpg",
      "Start With What Hurts": "https://JPero85.github.io/joe-quiz/start-with-what-hurts.jpg",
      "Start Hard Coast Later": "https://JPero85.github.io/joe-quiz/start-hard-coast-later.jpg",
      "Finish It Right": "https://JPero85.github.io/joe-quiz/finish-it-right.jpg",
      "How to Think Like AI, So You Don't Stop Thinking At All": "https://JPero85.github.io/joe-quiz/how-to-think-with-ai-so-you-dont-stop-thinking-at-all.jpg",
      "What Automation Erases": "https://JPero85.github.io/joe-quiz/what-automation-erases.jpg",
      "Start Smaller Stay Standing": "https://JPero85.github.io/joe-quiz/start-smaller-stay-standing-(2).jpg",
      "The Cost of Rushing": "https://JPero85.github.io/joe-quiz/the-cost-of-rushing.jpg"
    };

    const form = document.getElementById("quiz-form");
    const results = document.getElementById("results");

    form.addEventListener("submit", function (e) {
      e.preventDefault();

      const errorEl = document.getElementById("error-msg");
      errorEl.style.display = "none";

      // Ensure all answered
      let allAnswered = true;
      document.querySelectorAll(".quiz-question").forEach(q => {
        if (!q.querySelector("input[type='radio']:checked")) allAnswered = false;
      });
      if (!allAnswered) { errorEl.style.display = "block"; return; }

      // --- Score calculation (4/2/1 for Yes answers) ---
      const scores = {};
      document.querySelectorAll(".quiz-question").forEach(q => {
        const sel = q.querySelector("input[type='radio']:checked");
        if (sel && sel.value === "yes") {
          const p = q.dataset.primary, s = q.dataset.secondary, t = q.dataset.tertiary;
          scores[p] = (scores[p] || 0) + 4;
          scores[s] = (scores[s] || 0) + 2;
          scores[t] = (scores[t] || 0) + 1;
        }
      });

      // --- Only consider the 10 published categories when picking books ---
      const publishedCats = Object.keys(categoryToBook); // exactly 10
      const rankedPublished = [...publishedCats].sort((a,b) =>
        (scores[b]||0) - (scores[a]||0) || a.localeCompare(b)
      );

      const primaryCat   = rankedPublished[0];                               // best of the 10
      const secondaryCat = rankedPublished.find(c => c !== primaryCat) || primaryCat; // next-best of the 10

      const pBook = categoryToBook[primaryCat];
      const sBook = categoryToBook[secondaryCat];

      // --- Images ---
      const pImg = bookImages[pBook] || "";
      const sImg = bookImages[sBook] || "";

      // --- Render Primary ---
      document.getElementById("primary-book-title").textContent = pBook;
      const pImgEl = document.getElementById("primary-book-image");
      if (pImg) { pImgEl.src = pImg; pImgEl.alt = pBook; } else { pImgEl.removeAttribute("src"); pImgEl.alt = ""; }

      // --- Render Secondary (always choose from the 10; distinct from primary if possible) ---
      document.getElementById("secondary-book-title").textContent = sBook;
      const sImgEl = document.getElementById("secondary-book-image");
      if (sImg) { sImgEl.src = sImg; sImgEl.alt = sBook; } else { sImgEl.removeAttribute("src"); sImgEl.alt = ""; }

      // Swap views
      form.style.display = "none";
      results.style.display = "grid";
      window.scrollTo({ top: 0, behavior: "smooth" });
    });

    // Retake
    document.getElementById("retake").addEventListener("click", () => {
      form.reset();
      results.style.display = "none";
      form.style.display = "block";
      window.scrollTo({ top: 0, behavior: "smooth" });
    });
  });
    <!-- PRIMARY BOOK -->
<article class="card">
  <h2 class="card-title" id="primary-book-title">Primary Recommendation</h2>
  <img id="primary-book-image" alt="" class="cover">
  <a id="primary-buy-btn" href="#" target="_blank" class="buy-btn">Buy Here</a>
</article>

<!-- SECONDARY BOOK -->
<article class="card" id="secondary-card">
  <h2 class="card-title" id="secondary-book-title">Secondary Recommendation</h2>
  <img id="secondary-book-image" alt="" class="cover">
  <a id="secondary-buy-btn" href="#" target="_blank" class="buy-btn">Buy Here</a>
</article>

  </script>
</body>
</html>
